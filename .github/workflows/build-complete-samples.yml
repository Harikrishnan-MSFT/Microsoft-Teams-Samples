# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy
# More GitHub Actions for Azure: https://github.com/Azure/actions

name: Build - All Samples
on:
  push:
    #Change the branch name to <<main>>
    #Change the path to the folder where your code resides. Any change here will start the activity. 
    branches:
      - main
    paths:
      - '**'
  workflow_dispatch:
env:
    CI: false
jobs:

  build-java-samples:
    runs-on: windows-latest
    #Add project path, name and version as below for any new additions
    strategy:
      matrix:
        include:
            - project_path: 'samples/bot-conversation/java'
              name: 'bot-conversation'
              version: '18'


      fail-fast: false
    name: Build all "${{ matrix.name }}" java
    defaults:
      run:
        working-directory: "${{ matrix.project_path }}"
    steps:
      - uses: actions/checkout@v2

      - name: Set up JDK 18 version
        uses: actions/setup-java@v2
        with:
          java-version: "${{ matrix.version }}"

      - name: Build with Maven
        run: mvn --batch-mode --update-snapshots package
