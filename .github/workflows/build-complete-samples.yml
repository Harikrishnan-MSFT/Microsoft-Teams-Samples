# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy
# More GitHub Actions for Azure: https://github.com/Azure/actions

name: Build - All Samples
on:
  push:
    #Change the branch name to <<main>>
    #Change the path to the folder where your code resides. Any change here will start the activity. 
    branches:
      - main
    paths:
      - '**'
  workflow_dispatch:
env:
    CI: false
jobs:

  build-python-samples:
    runs-on: windows-latest
    #Add project path, name and version as below for any new additions
    strategy:
      matrix:
        include:
            - project_path: 'samples/bot-conversation/python'
              name: 'bot-conversation'
              version: '3.x'

      fail-fast: false
    name: Build all "${{ matrix.name }}" python
    defaults:
      run:
        working-directory: "${{ matrix.project_path }}"
    steps:
      - uses: actions/checkout@v2

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: "${{ matrix.version }}"
          cache: 'pip'
      - name: Install dependencies
        run: pip install -r requirements.txt